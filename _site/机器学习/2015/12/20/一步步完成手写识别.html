<!DOCTYPE html>
<html lang="zh-CN">
	<head>
	<meta charset="utf-8">
	<!--IE=edge使IE启用其所支持的最新的引擎渲染网页，chrome=1激活Chrome Frame.-->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<!-- 可以让部分国产浏览器（目前只有360浏览器）启用高速模式渲染页面 -->
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<!-- Color theme for statusbar -->
	<meta name="theme-color" content="#2196f3">
	<meta name="author" content="红林 毛凯 allamtb">
	<meta name="copyright" content="毛凯,allamtb">
	<meta name="keywords" content="红林的机器学习">
	<meta name="description" content="#准备数据在Mnist获取用于手写识别的训练素材以及测试素材。将其生成为python格式的pkl文件。供后续识别模型取用。#对比python机器学习库，选用框架      为什么用python？&gt;- 学者专家推荐Matlab作为机器学习研究语言，但是其价格昂贵。 [python][python]（keep ...">
	<!-- My Google Search Console -->
	<meta name="google-site-verification" content="qcNatfyfm9XNpGn-RdTi78hl4nFoFRjfQeG91b-vWnY" />
	<!-- baidu -->
	<meta name="baidu-site-verification" content="0iLwzUO3qt" />
	<!-- 360 -->
	<meta name="360-site-verification" content="3dbe924a9a58b1fbf328fdf13eb74b67" />
	<!-- sogou -->
	<meta name="sogou_site_verification" content="ehuZ97HWes"/>
	
	
	
	
	<meta name="ba_track_id" content="3a12295eec4bd436a92e0b39d50f5b31">
		
	<link rel="shortcut icon" href="/img/favicon.ico">
	<title>一步步完成手写识别 - 红林的机器学习 | allamtb Blog</title>

	<!-- Path to Framework7 Library CSS, Material Theme -->
	<link rel="stylesheet" href="/css/framework7.material.custom.min.css">
	<!-- Path to your custom web app styles-->
	<link rel="stylesheet" href="/css/main.css">
	<link rel="canonical" href="http://localhost:4000/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2015/12/20/%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%AE%8C%E6%88%90%E6%89%8B%E5%86%99%E8%AF%86%E5%88%AB.html">
	<link rel="alternate" type="application/rss+xml" title="红林的机器学习" href="http://localhost:4000/feed.xml">
	
</head>

	<body>
		<!-- Status bar overlay for full screen mode (PhoneGap) -->
		<div class="statusbar-overlay"></div>
		<!-- Panels overlay-->
		<div class="panel-overlay"></div>
		<!-- Left panel with cover effect-->
<div class="panel panel-left panel-cover">
	<div class="view navbar-fixed">
		<div class="pages">
			<div data-page="panel-left" class="page">
				<div class="navbar">
					<div class="navbar-inner">
						<div class="center">Nav Panel</div>
					</div>
				</div>
				<div class="page-content">
					<div class="content-block-title">Your pages</div>
					<div class="list-block inset">
						<ul>
							<li>
								<a href="/" class="item-link close-panel">
									<div class="item-content">
										<div class="item-media"><i class="icon icon-letter">H</i></div>
										<div class="item-inner">
											<div class="item-title">Home</div>
										</div>
									</div>
								</a>
							</li>
							 
							<li>
								<a href="/about/" class="item-link close-panel">
									<div class="item-content">
										<div class="item-media"><i class="icon icon-letter">A</i></div>
										<div class="item-inner">
											<div class="item-title">About</div>
										</div>
									</div>
								</a>
							</li>
							        
							<li>
								<a href="/tags/" class="item-link close-panel">
									<div class="item-content">
										<div class="item-media"><i class="icon icon-letter">T</i></div>
										<div class="item-inner">
											<div class="item-title">Tags</div>
										</div>
									</div>
								</a>
							</li>
							 
						</ul>
					</div>
					<div class="content-block-title">Your socials</div>
					<div class="content-block inset socials">
						<img class="avatar" src="/img/avatar.jpg " alt="avatar | 红林">
						<p class="introduction">Better late than never.</p>
						<ul class="social-media-list">
							
							<li>
								<a class="link icon-only external" target="_blank" href="https://github.com/allamtb">
									<i class="icon icon-github"></i>
								</a>
							</li>
							     
							<li>
								<a class="link icon-only external" target="_blank" href="https://segmentfault.com/u/红林">
									<i class="icon icon-segmentfault"></i>
								</a>
							</li>
							
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

		<!-- Views -->
		<div class="views">
			<!-- Your main view, should have "view-main" class -->
			<div class="view view-main">
				<!-- Pages container, because we use fixed navbar and toolbar, it has additional appropriate classes-->
				<div class="pages navbar-fixed">
					<!-- We don't need full layout in this file because this page will be parsed with Ajax. It is just enough to put here .page-->
<!-- But,But,But for SEO we need full layout -->

<!-- Page, "data-page" contains page name -->
<div data-page="一步步完成手写识别" class="page post no-side-panel">
	<!-- Top Navbar 请按照Framework7 material的navbar结构编写代码-->
<nav class="navbar site-nav">
	<div class="navbar-inner">
		<div class="center"><a class="link site-title" href="/">红林的机器学习</a></div>
		<div class="right">
			<a class="link page-link" href="/">Home</a> 
			
			<a class="link page-link" href="/about/">About</a>
			
			<a class="link page-link" href="/tags/">Tags</a>
			
			<a href="#" class="link icon-only open-panel menu-icon"><i class="icon icon-bars"></i></a>
		</div>
	</div>
</nav>
	<!-- Speed Dial Wrap -->
	<div class="speed-dial">
		<!-- FAB inside will open Speed Dial actions -->
		<a href="#" class="floating-button" style="background-color:#26a69a;background-color:#81C784;">
			<!-- First icon is visible when Speed Dial actions are closed -->
			<i class="icon icon-share"></i>
			<!-- Second icon is visible when Speed Dial actions are opened -->
			<i class="icon icon-close"></i>
		</a>
		<!-- Speed Dial Actions -->
		<div class="speed-dial-buttons">
			<!-- First Speed Dial button -->
			<a class="external" href="http://service.weibo.com/share/share.php?url=http://localhost:4000/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2015/12/20/%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%AE%8C%E6%88%90%E6%89%8B%E5%86%99%E8%AF%86%E5%88%AB.html&title=一步步完成手写识别" title="Share to sina weibo" target="_blank" style="background-color: #EF5350;">
				<i class="icon icon-sina"></i>
			</a>
			<!-- Second Speed Dial  button -->
			<a class="external" href="http://www.facebook.com/share.php?u=http://localhost:4000/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2015/12/20/%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%AE%8C%E6%88%90%E6%89%8B%E5%86%99%E8%AF%86%E5%88%AB.html" title="Share to Facebook" target="_blank" style="background-color: #3B5998; ;">
				<i class="icon icon-facebook"></i>
			</a>
			<!-- Third Speed Dial  button -->
			<a class="external" href="http://twitter.com/intent/tweet?url=http://localhost:4000/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2015/12/20/%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%AE%8C%E6%88%90%E6%89%8B%E5%86%99%E8%AF%86%E5%88%AB.html&text=一步步完成手写识别" title="Share to Twitter" target="_blank" style="background-color: #2196F3;">
				<i class="icon icon-twitter"></i>
			</a>
		</div>
	</div>
	<!-- End of Speed Dial -->
	<!-- Scrollable page content -->
	<div class="page-content hide-navbar-on-scroll">
		<header class="site-header">
	<div class="wrapper">
		<div class="content-block">
						
			<h1 class="post-title">一步步完成手写识别</h1> 
			<p class="post-meta">
				 -- <time datetime="2015-12-20T00:00:00+08:00" itemprop="datePublished">Dec 20, 2015</time>
				
			</p>
			<div class="tags">
				
				<a class="link chip" href="/tags/#手写识别">
					<!--<div class="chip-media bg-blue">T</div>-->
					<div class="chip-label">手写识别</div>
				</a>
				
			</div>
			
		</div>
	</div>
</header>
		<div class="wrapper">
			<div class="main-panel">
				<div class="content-block">
					<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
						<!--
						<header class="post-header">
							<h1 class="post-title" itemprop="name headline">一步步完成手写识别</h1>
							<p class="post-meta">
								<time datetime="2015-12-20T00:00:00+08:00" itemprop="datePublished">Dec 20, 2015</time>
							</p>
						</header>
						-->
						<div class="post-content" itemprop="articleBody">
							<p>#准备数据
在Mnist获取用于手写识别的训练素材以及测试素材。将其生成为python格式的pkl文件。
供后续识别模型取用。</p>

<p>#对比python机器学习库，选用框架</p>

<ul>
  <li>
    <p>为什么用python？
&gt;- 学者专家推荐Matlab作为机器学习研究语言，但是其价格昂贵。 [python][python]（keep this under your pillow)提供了免费的[matplotlib][matplotlib] [官网][matplotlibMain]。
&gt;- python 是解释性语言。无需编译，机器在执行前再解释。方便快速阅读源码、编写代码，并在控制台直接运行。
&gt;- 语法优美、可读性高、列表推导,模块化编程、开发迅速。
&gt;- 丰富的机器学习生态圈 [numpy][numpy] [Scipy][scipy]等。
&gt;- cython python的C语言扩展。用于加速python某些算法的速度。
&gt;- 求2的23次方？ python 2**23 即可，非常简洁。java 需要 调用Math.pow()</p>
  </li>
  <li>机器学习选用什么？
&gt; scikit-learn  目前python最火的工具包。有525位贡献者，2W多次提交。 [scikit-learn] [scikit-learn]
包括了各类无监督、监督学习算法。
适合用于实践机器学习。</li>
  <li>深度学习选用什么？
&gt; keras 已封装好各种模型，上手容易。[keras][keras]</li>
  <li>符号运算选用什么？
&gt; [Theano][theano] 基于numpy 和scipy ，提供了先写公式，再传值的API。</li>
</ul>

<p>#使用KNN来识别
&gt; KNN 即 K-NearNeburher 的缩写，中文名为 K近邻算法。KNN算法是最简单、通俗的算法。也是不需要提前建模、训练的机器学习算法，
有点临时抱佛脚的意思。
&gt; KNN分类的原理为： 将所有已知的Samples(数据带标签)线性化，通过一一对比测试数据（有数据无标签）与各个Samples的距离（欧式距离、余弦距离）
  得到K个最相似的Samples。最后在这K个Samples中以标签占比最多的为结果标签。
&gt; 在机器学习实践一书中，K的值小于20为最佳实践。</p>

<ul>
  <li>
    <p>准备数据</p>

    <p>将生成好的MNIST测试数据得到训练数据集、训练数据标签、测试数据集、测试数据标签。
可以看到训练数据我们取的是9000个，测试数据我们取的是100个。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>```python
#打开mnist手写字符集。
f = gzip.open('mnist.pkl.gz', 'rb')
training_data, validation_data, test_data = cPickle.load(f)
f.close()
#获得训练数据
data = training_data[0][0:9000]
#获得训练结果
training_result = training_data[1][0:9000]
#获得用于测试的数据
test = test_data[0][0:100]
#获得用于测试的数据结果
test_result = test_data[1][0:100]
 ```
</code></pre>
    </div>
  </li>
  <li>
    <p>训练模型</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  ```python
     n_neighbors = 5
     knn = neighbors.KNeighborsClassifier(n_neighbors, weights='distance')
     #训练
     fit = knn.fit(data, training_result)
  ```
</code></pre>
    </div>
  </li>
  <li>
    <p>使用测试数据来判断正确率</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  ```python
  for x,y in zip(y_,test_result):
      if(x!=y):
          count+=1
  print "{0}/{1}".format(count,len(y_))
  ```
</code></pre>
    </div>
  </li>
</ul>

<p>#使用NN来识别</p>

<p>#使用卷积神经网络识别</p>

<p>#使用SVM识别</p>

<p>#使用PCA以及SVD算法来优化数据/提升效率。</p>

<p>#总结
 [python]:https://docs.python.org/2/library/index.html
 [numpy]:http://old.sebug.net/paper/books/scipydoc/numpy_intro.html
 [scipy]:http://old.sebug.net/paper/books/scipydoc/scipy_intro.html
 [matplotlib]:http://old.sebug.net/paper/books/scipydoc/matplotlib_intro.html
 [matplotlibMain]:http://matplotlib.org/
 [keras]:http://keras.io/
 [scikit-learn]:http://scikit-learn.org/stable/
 [theano]:http://deeplearning.net/software/theano/tutorial/index.html#tutorial</p>

						</div>
					</article>
					<ul class="pager">
						
						<li class="previous">
							<a class="link" href="/%E5%85%B6%E4%BB%96/2015/12/19/gitHub%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B0%8F%E7%BB%93.html" title="gitHub 搭建博客小结">&larr; Previous Post</a>
						</li>
						 
						<li class="next">
							<a class="link" href="/%E8%AF%AD%E8%A8%80/2015/12/25/python%E5%AD%A6%E4%B9%A0.html" title="python学习">Next Post &rarr;</a>
						</li>
						
					</ul>
				</div>
				<!-- disqus 评论框 start -->
				
				<!-- disqus 评论框 end -->
				<!-- 多说分享 start -->
				
				<!-- 多说分享 end -->
				<!-- 多说评论框 start -->
				
				<!-- 多说评论框 end -->
			</div>
			<div class="side-panel">
				<!-- Featured Tags -->

<div class="content-block-title">FEATURED TAGS</div>
<div class="content-block">
	<ul>
		 
		<li>
			<a class="link chip" href="/tags/#机器学习">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">机器学习</div>
			</a>
		</li>
		  
		<li>
			<a class="link chip" href="/tags/#计划">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">计划</div>
			</a>
		</li>
		  
		<li>
			<a class="link chip" href="/tags/#ghpages">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">ghpages</div>
			</a>
		</li>
		  
		<li>
			<a class="link chip" href="/tags/#markdown">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">markdown</div>
			</a>
		</li>
		  
		<li>
			<a class="link chip" href="/tags/#jekyll">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">jekyll</div>
			</a>
		</li>
		  
		<li>
			<a class="link chip" href="/tags/#手写识别">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">手写识别</div>
			</a>
		</li>
		  
		<li>
			<a class="link chip" href="/tags/#python">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">python</div>
			</a>
		</li>
		  
		<li>
			<a class="link chip" href="/tags/#基础">
				<!--<div class="chip-media bg-blue">T</div>-->
				<div class="chip-label">基础</div>
			</a>
		</li>
		 
	</ul>
</div>


<!-- Socials -->

<div class="content-block-title socials-title">SOCIALS</div>
<div class="content-block socials">
	<img class="avatar" src="/img/avatar.jpg" alt="bglky avatar | 周炳光的头像">
	<p class="introduction">Better late than never.</p>
	<ul class="social-media-list">
		
		<li>
			<a class="link icon-only external" target="_blank" href="https://github.com/allamtb">
				<i class="icon icon-github"></i>
			</a>
		</li>
		     
		<li>
			<a class="link icon-only external" target="_blank" href="https://segmentfault.com/u/红林">
				<i class="icon icon-segmentfault"></i>
			</a>
		</li>
		
	</ul>
</div>


<!-- Friends Blog -->

<div class="content-block-title">FRIENDS</div>
<div class="content-block">
	<ul>
		
		<li class="friend-link"><a class="link external" href="http://www.ibm.com">ibm</a></li>
		
		<li class="friend-link"><a class="link external" href="http://www.travelsky.com">travelsky</a></li>
		
	</ul>
</div>

			</div>
		</div>
		<footer class="site-footer">
	<div class="wrapper">
		<div class="content-block">
			<ul class="social-media-list">
				
				<li>
					<a class="link icon-only external" target="_blank" href="https://github.com/allamtb">
						<i class="icon icon-github"></i>
					</a>
				</li>
				     
				<li>
					<a class="link icon-only external" target="_blank" href="https://segmentfault.com/u/红林">
						<i class="icon icon-segmentfault"></i>
					</a>
				</li>
				
			</ul>
		</div>
		<div class="content-block">
			<p class="copyright">
				Copyright &copy; 2017 allamtb
			</p>
		</div>
	</div>
</footer>

	</div>
</div>
				</div>
			</div>
		</div>
		<!-- Path to Framework7 Library JS-->
		<script src="/js/framework7.custom.min.js"></script>
		<!-- Path to your web app js-->
		<!-- <script src="/js/my-app.js"></script> -->
	</body>
</html>
